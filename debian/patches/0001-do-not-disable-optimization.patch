From: "Barak A. Pearlmutter" <barak+git@pearlmutter.net>
Date: Tue, 8 Nov 2022 13:12:10 +0000
Subject: do not disable optimization

Do not disable optimization (-O0) just because debugging is enabled (-g)
---
 CMakeLists.txt | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index a12fed4..8d718e4 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -204,7 +204,8 @@ endif ()
 if (CMAKE_BUILD_TYPE STREQUAL "Debug" OR DEBUG)
   if (NOT MSVC)
     add_definitions(-DDEBUG)
-    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -ftemplate-backtrace-limit=0")
+    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g -ftemplate-backtrace-limit=0")
+    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=c99 -g")
   endif()
 
   # mlpack uses it's own mlpack::backtrace class based on Binary File Descriptor
